{"version":3,"sources":["components/Modal/Modal.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","api/PixabayApi.jsx","app/App.jsx","index.js"],"names":["Modal","handleCloseModal","e","onClose","props","handleEscCloseModal","key","window","addEventListener","this","removeEventListener","children","className","onClick","Component","ImageGalleryItem","state","isModalOpen","handleOpenModal","setState","data","id","src","webformatURL","alt","tags","largeImageURL","ImageGallery","length","map","Searchbar","inputValue","reset","handleChange","target","value","handleSubmit","preventDefault","onSubmit","type","autoFocus","autoComplete","placeholder","onChange","Button","Loader","color","height","width","fetchDataWithQuery","query","page","axios","get","App","dataFromQuery","isLoading","handleOnClick","handleOnSubmit","getData","scrollToHeight","document","documentElement","scrollHeight","PixabayApi","then","hits","catch","error","console","finally","scrollTo","top","behavior","prevProps","prevState","render","getElementById"],"mappings":"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","file":"static/js/main.9ce0be0a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport class Modal extends Component {\n\tstatic propTypes = {\n\t\tonClose: PropTypes.func.isRequired,\n\t\tchildren: PropTypes.element.isRequired,\n\t};\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener(\"keydown\", this.handleEscCloseModal);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"keydown\", this.handleEscCloseModal);\n\t}\n\n\thandleCloseModal = (e) => {\n\t\tconst { onClose } = this.props;\n\t\tonClose();\n\t};\n\n\thandleEscCloseModal = (e) => {\n\t\tconst { onClose } = this.props;\n\t\tif (e.key !== \"Escape\") {\n\t\t\treturn;\n\t\t}\n\t\tonClose();\n\t};\n\n\trender() {\n\t\tconst { children } = this.props;\n\t\treturn (\n\t\t\t<div className=\"Overlay\" onClick={this.handleCloseModal}>\n\t\t\t\t<div className=\"Modal\">{children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, { Component } from \"react\";\nimport { Modal } from \"../../Modal/Modal\";\nimport PropTypes from \"prop-types\";\n\nexport class ImageGalleryItem extends Component {\n\tstate = {\n\t\tisModalOpen: false,\n\t};\n\n\tstatic propTypes = {\n\t\tdata: PropTypes.shape({\n\t\t\tid: PropTypes.number.isRequired,\n\t\t\twebformatURL: PropTypes.string.isRequired,\n\t\t\ttags: PropTypes.string.isRequired,\n\t\t}).isRequired,\n\t};\n\n\thandleOpenModal = () => {\n\t\tthis.setState({ isModalOpen: true });\n\t};\n\n\thandleCloseModal = () => this.setState({ isModalOpen: false });\n\n\trender() {\n\t\tconst { data } = this.props;\n\t\tconst { isModalOpen } = this.state;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<li className=\"ImageGalleryItem\" onClick={this.handleOpenModal}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tid={data.id}\n\t\t\t\t\t\tsrc={data.webformatURL}\n\t\t\t\t\t\talt={data.tags}\n\t\t\t\t\t\tclassName=\"ImageGalleryItem-image\"\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t\t{isModalOpen && (\n\t\t\t\t\t<Modal onClose={this.handleCloseModal}>\n\t\t\t\t\t\t<img src={data.largeImageURL} alt={data.tags} />\n\t\t\t\t\t</Modal>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport { ImageGalleryItem } from \"./ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nexport const ImageGallery = ({ data }) => {\n\treturn (\n\t\t<ul className=\"ImageGallery\">\n\t\t\t{data.length > 0 &&\n\t\t\t\tdata.map((data) => {\n\t\t\t\t\treturn <ImageGalleryItem data={data} key={data.id} />;\n\t\t\t\t})}\n\t\t</ul>\n\t);\n};\n\nImageGallery.propTypes = {\n\tdata: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport class Searchbar extends Component {\n\tstate = {\n\t\tinputValue: \"\",\n\t};\n\n\tstatic propTypes = {\n\t\tonSubmit: PropTypes.func.isRequired,\n\t};\n\n\treset = () => {\n\t\tthis.setState({ inputValue: \"\" });\n\t};\n\n\thandleChange = (e) => {\n\t\tconst inputValue = e.target.value;\n\t\tthis.setState({ inputValue: inputValue });\n\t};\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst { onSubmit } = this.props;\n\t\tconst { inputValue } = this.state;\n\t\tonSubmit(inputValue);\n\t\tthis.reset();\n\t};\n\n\trender() {\n\t\tconst { inputValue } = this.state;\n\t\treturn (\n\t\t\t<header className=\"Searchbar\">\n\t\t\t\t<form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<button type=\"submit\" className=\"SearchForm-button\">\n\t\t\t\t\t\t<span className=\"SearchForm-button-label\">Search</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\n\t\t\t\t\t\tclassName=\"SearchForm-input\"\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</header>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const Button = ({ onClick }) => {\n\treturn (\n\t\t<div className=\"ButtonContainer\">\n\t\t\t<button className=\"Button\" onClick={onClick}>\n\t\t\t\tLoad More\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nButton.propTypes = {\n\tonClick: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport LoaderSpin from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport const Loader = () => {\n\treturn (\n\t\t<LoaderSpin\n\t\t\tclassName=\"Loader\"\n\t\t\ttype=\"Oval\"\n\t\t\tcolor=\"#3f51b5\"\n\t\t\theight={300}\n\t\t\twidth={300}\n\t\t/>\n\t);\n};\n","import axios from \"axios\";\n\nconst APIKEY = \"16796543-1ef82ab592812296a1965d7ca\";\n\nconst fetchDataWithQuery = ({ query, page = 0 }) =>\n\taxios.get(\n\t\t`https://pixabay.com/api/?q=${query}&page=${page}&key=${APIKEY}&image_type=photo&orientation=horizontal&per_page=12`,\n\t);\n\nexport default fetchDataWithQuery;\n","import React, { Component } from \"react\";\nimport \"./_app.sass\";\n\nimport { ImageGallery } from \"../components/ImageGallery/ImageGallery\";\nimport { Searchbar } from \"../components/Searchbar/Searchbar\";\nimport { Button } from \"../components/Button/Button\";\nimport { Loader } from \"../components/Loader/Loader\";\nimport PixabayApi from \"../api/PixabayApi\";\n\nexport default class App extends Component {\n\tstate = {\n\t\tdataFromQuery: [],\n\t\tpage: 0,\n\t\tquery: \"\",\n\t\tisLoading: false,\n\t};\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst { page, query } = this.state;\n\t\tif (prevState.page !== page || prevState.query !== query) {\n\t\t\tif (query !== \"\") {\n\t\t\t\tthis.getData({ page, query });\n\t\t\t}\n\t\t}\n\t}\n\n\thandleOnClick = () => {\n\t\tconst { page } = this.state;\n\t\tthis.setState({ page: page + 1 });\n\t};\n\n\thandleOnSubmit = (e) => {\n\t\tthis.setState({ dataFromQuery: [], query: e, page: 1 });\n\t};\n\n\tgetData = ({ query, page }) => {\n\t\tconst { dataFromQuery } = this.state;\n\t\tconst scrollToHeight = document.documentElement.scrollHeight - 120;\n\t\tthis.setState({ isLoading: true });\n\n\t\treturn PixabayApi({ query, page })\n\t\t\t.then(({ data }) =>\n\t\t\t\tthis.setState({ dataFromQuery: [...dataFromQuery, ...data.hits] }),\n\t\t\t)\n\t\t\t.catch((error) => console.error(error))\n\t\t\t.finally(() => {\n\t\t\t\tthis.setState({ isLoading: false });\n\t\t\t\tif (page > 1)\n\t\t\t\t\twindow.scrollTo({\n\t\t\t\t\t\ttop: scrollToHeight,\n\t\t\t\t\t\tbehavior: \"smooth\",\n\t\t\t\t\t});\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst { dataFromQuery, isLoading } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Searchbar onSubmit={this.handleOnSubmit} />\n\t\t\t\t<ImageGallery data={dataFromQuery} />\n\t\t\t\t{isLoading && <Loader />}\n\t\t\t\t{dataFromQuery.length > 0 && <Button onClick={this.handleOnClick} />}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./app/App\";\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}